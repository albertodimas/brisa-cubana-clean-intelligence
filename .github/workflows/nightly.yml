name: Nightly Full E2E Suite

on:
  schedule:
    # Runs at 2:00 AM UTC every day
    - cron: "0 2 * * *"
  workflow_dispatch: # Allow manual triggers

jobs:
  full-e2e:
    uses: ./.github/workflows/project-pipeline.yml
    with:
      job-name: Nightly full e2e
      run-database-prep: true
      run-e2e-suite: full
      playwright-report-name: playwright-report-full
      playwright-retention-days: 14
    secrets:
      api-token: ${{ secrets.API_TOKEN }}
      jwt-secret: ${{ secrets.JWT_SECRET }}
      auth-secret: ${{ secrets.AUTH_SECRET }}
